---
globs: sections/*.tex,main.tex
description: Guidelines for preventing duplicate content in LaTeX thesis
---

# LaTeX Duplicate Content Prevention

## Core Principle
Each piece of information should appear in exactly ONE canonical location. Other sections reference it via `\autoref{}`, `\ref{}`, or brief mentions with citations.

## Common Duplication Patterns to Avoid

### 1. Metric Definitions
**Problem**: Defining evaluation metrics in both methodology and evaluation sections.

**Solution**: 
- Define metrics fully in evaluation section (`sections/06-evaluation.tex`)
- Methodology section only lists metric names with forward reference
- Use: "metrics detailed in Section~\ref{sec:eval-metrics}"

### 2. Dataset Statistics
**Problem**: Repeating dataset numbers (road counts, trajectory counts) in multiple sections.

**Solution**:
- Consolidate all statistics in ONE table (typically in data/preprocessing section)
- Other sections reference the table: "statistics in Table~\ref{tab:dataset-stats}"
- Brief mentions can include 1-2 key numbers with "as described in Section X"

### 3. Model Architectures
**Problem**: Re-documenting base model architectures that belong to original papers.

**Solution**:
- For base models (not your contribution): brief description + citation
- Focus on what's needed for YOUR work (vocabulary sizes, inference speeds)
- Example: "Architecture details in the original paper~\cite{authorYear}"

### 4. Preprocessing Steps
**Problem**: Explaining same preprocessing procedure in implementation AND data sections.

**Solution**:
- Full explanation in ONE section (usually data preprocessing)
- Other sections: "following procedures detailed in Section~\ref{sec:preprocessing}"
- Include computation times in only ONE place

### 5. Hyperparameter Details
**Problem**: Describing hyperparameter search in both implementation and evaluation.

**Solution**:
- Full description with search space, sampler, pruner in implementation section
- Evaluation section: "optimal parameters from Section~\ref{sec:hparam}" with values

## Cross-Reference Patterns

### Forward References (Early → Later)
```latex
% In methodology:
We evaluate using metrics detailed in Section~\ref{sec:eval-metrics}

% In implementation:
Dataset characteristics are described in Section~\ref{sec:datasets}
```

### Backward References (Later → Earlier)
```latex
% In evaluation:
Using the vocabulary mapping from Section~\ref{sec:vocab-alignment}

% In data section:
The mapping $\phi$ defined in Section~\ref{sec:method-vocab}
```

## Checklist Before Committing
- [ ] Does this information already exist elsewhere?
- [ ] If yes, is this the canonical location or should I reference it?
- [ ] Are tables/figures duplicating information from text?
- [ ] Can I replace this explanation with a citation + brief summary?
- [ ] Do cross-references resolve correctly after build?

## Detection Strategy
Periodically convert PDF to text and search for:
- Repeated equations (same equation numbers or formulas)
- Repeated tables (same data in multiple places)
- Repeated dataset numbers (grep for specific values like "40,060" or "629,380")
- Similar paragraph structures across sections

## Scope-Specific Guidelines

### Base Models vs Your Contribution
- **Base models** (existing work): Cite original paper, minimal architecture details
- **Your contribution** (novel work): Full explanation with algorithms, equations, diagrams

### Implementation vs Methodology
- **Methodology**: WHAT you do conceptually, algorithms, formulations
- **Implementation**: HOW you do it practically, optimizations, hardware, timing
- No overlap in content, only cross-references

### Data Description vs Data Usage
- **Data section**: Statistics, format, preprocessing pipeline
- **Other sections**: Reference data characteristics, don't repeat them
